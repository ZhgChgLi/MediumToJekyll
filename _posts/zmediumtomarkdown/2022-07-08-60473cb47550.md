---
title: Visitor Pattern in TableView
author: ZhgChgLi
date: 2022-07-08T07:58:30.799+0000
last_modified_at: 2022-07-08T07:58:30.799+0000
categories: ZRealm Dev.
tags: [ios-app-development,design-patterns,visitor-pattern,uitableview,refactoring]
description: 使用 Visitor Pattern 增加 TableView 的閱讀和擴充性
image:
  path: assets/60473cb47550/1*0YcpTUOCDjuV6Ii4jgbK0g.jpeg
render_with_liquid: false
---

### Visitor Pattern in TableView

使用 Visitor Pattern 增加 TableView 的閱讀和擴充性


![Photo by [Alex wong](https://unsplash.com/@killerfvith?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText){:target="_blank"}](/assets/60473cb47550/1*0YcpTUOCDjuV6Ii4jgbK0g.jpeg)

Photo by [Alex wong](https://unsplash.com/@killerfvith?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText){:target="_blank"}
### 前言

承接上篇「 [Visitor Pattern in Swift](../ba5773a7bfea/) 」介紹 Visitor 模式及一個簡單的實務應用場景，此篇將介紹另一個在 iOS 需求開發上的實際應用。
### 需求場景

要開發一個動態牆功能，有多種不同類型的區塊需要動態組合顯示。

以 StreetVoice 的動態牆為例：


![](/assets/60473cb47550/1*_Liz9H0ZUD8Kk6kLKMMWjQ.png)


如上圖所示，動態牆是由多種不同類型的區塊動態組合而成：
- Type A: 活動動態
- Type B: 追蹤推薦
- Type C: 新歌動態
- Type D: 新專輯動態
- Type E: 新追縱動態
- Type …\. 更多


類型可預期會在未來隨著功能迭代越來越多。
### 問題

在沒有任何架構設計的情況下 Code 可能會長這樣：
