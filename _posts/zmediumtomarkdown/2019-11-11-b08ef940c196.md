---
title: iOS Deferred Deep Link 延遲深度連結實作(Swift)
author: ZhgChgLi
date: 2019-11-11T14:34:57.966+0000
last_modified_at: 2022-07-21T16:28:37.136+0000
categories: ZRealm Dev.
tags: [deeplink,ios-app-development,swift,universal-links,app-store]
description: 動手打造適應所有場景、不中斷的App轉跳流程
image:
  path: assets/b08ef940c196/1*P2saSHeIX7TZyCQY0StN1Q.jpeg
render_with_liquid: false
---

### iOS Deferred Deep Link 延遲深度連結實作\(Swift\)

動手打造適應所有場景、不中斷的App轉跳流程
### \[2022/07/22\] 更新 iOS 16 Upcoming Changes

iOS ≥ 16 開始非使用者主動操作貼上動作，App 主動讀取剪貼簿的行為會跳出詢問視窗，使用者需要按允許，App 才能讀取到剪貼簿資訊。


![[UIPasteBoard’s privacy change in iOS 16](https://sarunw.com/posts/uipasteboard-privacy-change-ios16/){:target="_blank"}](/assets/b08ef940c196/0*E8h6Fy0H9_5jxhjV.png)

[UIPasteBoard’s privacy change in iOS 16](https://sarunw.com/posts/uipasteboard-privacy-change-ios16/){:target="_blank"}
### \[2020/07/02\] 更新
- [因應 iOS 14 更新，讀取剪貼簿時會提示使用者，如要實作請一併參考此篇文章。](../8a04443024e2/)

#### 無關

畢業當完兵到現在庸庸碌碌工作了快三年，成長已趨於平緩，開始進入舒適圈，所幸心一橫提了離職，沈澱重新出發。

在閱讀 [做自己的生命設計師](https://www.books.com.tw/products/0010733134){:target="_blank"} 重新梳理自己的人生規劃時，回顧了一下工作跟人生，雖然本身技術能力沒有很好，但在寫 Medium 與大家分享能讓我進入「心流」跟獲得大量的精力；剛好前陣子有朋友在問 Deep Link 問題，藉此整理了我研究的做法，也順便補充下自己的精力！
### 場景

首先要先說明實際應用場景。

1\.當使用者有裝 APP 時點擊網址連結\(Google搜尋來源、FB貼文、Line連結…\) 則直接開 APP 呈現目標畫面，若無則跳轉到 APP Store 安裝 APP； **安裝完後打開APP，要能重現之前欲前往的畫面** 。


[![iOS Deferred Deep Link Demo](/assets/b08ef940c196/249b_hqdefault.jpg "iOS Deferred Deep Link Demo")](https://www.youtube.com/watch?v=sY6-Q7BFUOM){:target="_blank"}


2\.APP 下載和開啟數據追蹤，我們想知道 APP 推廣連結有多少人確實從這個入口下載和開啟 APP 的。

3\.特殊活動入口，例如透過特定網址下載後開啟能獲得獎勵。
#### 支援度：

iOS ≥ 9
### 何謂 Deferred Deep Link 與 Deep Link 的差別？
#### 純 Deep Link 本身：


![](/assets/b08ef940c196/1*15arO4L94ZoEyOLtFARtsA.jpeg)


可以看到 iOS Deep Link 本身運作機制只有判斷 APP 有無安裝，有則開 APP，無則不處理．
#### 首先我們要先加上「無則跳轉到 APP Store」提示使用者安裝 APP：

**URL Scheme** 的部分是由系統控制，一般用於 APP 內呼叫鮮少公開出來；因為如果觸發點在自己無法控制的區域\(如：Line連結\)，則無法處理。

若觸發點在自身網頁上可以使用些小技巧處理，請參考 [**這裡**](https://stackoverflow.com/questions/627916/check-if-url-scheme-is-supported-in-javascript){:target="_blank"} ：
